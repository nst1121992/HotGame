<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hot Couple - Extreme Challenge</title>
    <style>
        :root { 
            --primary: #ff0055; 
            --dark-bg: #0a0a0a;
            --card-bg: #1a1a1a;
            --accent: #00f2ff;
        }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--dark-bg); 
            color: white; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            overflow: hidden;
        }
        /* Hi·ªáu ·ª©ng n·ªÅn neon */
        body::before {
            content: "";
            position: absolute;
            width: 150%; height: 150%;
            background: radial-gradient(circle, rgba(255,0,85,0.1) 0%, rgba(0,0,0,1) 70%);
            z-index: -1;
        }

        .container { 
            background: var(--card-bg); 
            padding: 30px; 
            border-radius: 30px; 
            border: 2px solid #333; 
            width: 340px; 
            text-align: center; 
            display: none; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .active { display: block; animation: fadeIn 0.5s ease; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .btn-google { background: white; color: #444; padding: 12px; border-radius: 12px; border: none; width: 100%; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.3s; margin-bottom: 15px;}
        
        .btn-main { 
            background: linear-gradient(45deg, var(--primary), #ff5e00);
            color: white; padding: 18px; border-radius: 50px; border: none; 
            width: 100%; font-size: 1.1rem; font-weight: bold; cursor: pointer; 
            margin-top: 15px; box-shadow: 0 5px 15px rgba(255, 0, 85, 0.4);
            transition: 0.3s;
        }
        .btn-main:active { transform: scale(0.95); }

        .user-avatar { width: 70px; height: 70px; border-radius: 50%; border: 3px solid var(--primary); margin-bottom: 10px; object-fit: cover;}
        
        #challenge-box { 
            background: rgba(255, 255, 255, 0.05); 
            color: #fff; 
            padding: 30px 20px; 
            border-radius: 20px; 
            font-size: 1.2rem;
            font-weight: bold; 
            margin: 25px 0; 
            min-height: 80px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            border: 1px dashed var(--primary);
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .spinning { animation: shake 0.1s infinite; color: var(--accent) !important; }
        @keyframes shake { 0% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -1px); } 100% { transform: translate(1px, -1px); } }

        .difficulty-tag {
            font-size: 0.7rem;
            text-transform: uppercase;
            padding: 4px 12px;
            border-radius: 10px;
            background: var(--primary);
            margin-bottom: 10px;
            display: inline-block;
        }
    </style>
</head>
<body>

    <div id="loading-section" class="container active">
        <div class="spinning" style="font-size: 2rem;">üíñ</div>
        <p id="loading-text" style="margin-top: 15px;">ƒêANG KH·ªûI T·∫†O...</p>
    </div>

    <div id="auth-section" class="container">
        <h1 style="color: var(--primary); letter-spacing: 2px;">HOT COUPLE</h1>
        <p style="color: #888; margin-bottom: 30px;">H√¢m n√≥ng t√¨nh c·∫£m c·ªßa b·∫°n</p>
        <button class="btn-google" id="loginBtn">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
            Ti·∫øp t·ª•c v·ªõi Google
        </button>
    </div>

    <div id="game-section" class="container">
        <img id="user-photo" class="user-avatar" src="" alt="Avatar">
        <div id="user-name" style="font-size: 0.9rem; color: #aaa; margin-bottom: 10px;"></div>
        
        <span class="difficulty-tag" id="level-tag">S·∫µn s√†ng</span>
        <div id="challenge-box">B·∫•m ƒë·ªÉ b·∫Øt ƒë·∫ßu!</div>
        
        <button class="btn-main" id="spinBtn">XOAY TH·ª¨ TH√ÅCH üé≤</button>
        <button id="logoutBtn" style="background:none; border:none; color: #444; margin-top: 25px; cursor:pointer; font-size: 0.8rem;">ƒêƒÉng xu·∫•t</button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDlswEZUfys_PJ7337YOz4t_MaHwjnuNDY",
            authDomain: "hot-couple-game-21db1.firebaseapp.com",
            projectId: "hot-couple-game-21db1",
            storageBucket: "hot-couple-game-21db1.firebasestorage.app",
            messagingSenderId: "1074792311940",
            appId: "1:1074792311940:web:21118ed565a30ca33126d1",
            measurementId: "G-BFMM51ZKND"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        const challenges = [
            { text: "H√¥n nh·∫π v√†o tr√°n ƒë·ªëi ph∆∞∆°ng", lv: "D·ªÖ th∆∞∆°ng" },
            { text: "Nh√¨n v√†o m·∫Øt nhau 30 gi√¢y kh√¥ng c∆∞·ªùi", lv: "G·∫Øn k·∫øt" },
            { text: "K·ªÉ v·ªÅ k·ªâ ni·ªám b·∫°n nh·ªõ nh·∫•t v·ªÅ ng∆∞·ªùi kia", lv: "T√¨nh c·∫£m" },
            { text: "ƒê∆∞·ª£c y√™u c·∫ßu ƒë·ªëi ph∆∞∆°ng l√†m m·ªôt vi·ªác b·∫•t k√¨", lv: "Quy·ªÅn l·ª±c" },
            { text: "C√πng u·ªëng chung m·ªôt ly n∆∞·ªõc", lv: "Chia s·∫ª" },
            { text: "Th√¨ th·∫ßm v√†o tai ƒë·ªëi ph∆∞∆°ng m·ªôt ƒëi·ªÅu ng·ªçt ng√†o", lv: "H·∫•p d·∫´n" },
            { text: "Massage vai cho ƒë·ªëi ph∆∞∆°ng trong 2 ph√∫t", lv: "ChƒÉm s√≥c" },
            { text: "N·∫Øm tay nhau trong 3 l∆∞·ª£t quay t·ªõi", lv: "G·∫ßn g≈©i" }
        ];

        const showSection = (id) => {
            document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        };

        onAuthStateChanged(auth, (user) => {
            if (user) {
                const myEmail = "nst1121992@gmail.com"; 
                if (user.email === myEmail) {
                    document.getElementById('user-name').innerText = "Ch√†o, " + user.displayName;
                    document.getElementById('user-photo').src = user.photoURL;
                    showSection('game-section');
                } else {
                    alert("R·∫•t ti·∫øc, ·ª©ng d·ª•ng n√†y ƒëang trong ch·∫ø ƒë·ªô ri√™ng t∆∞!");
                    signOut(auth);
                }
            } else {
                showSection('auth-section');
            }
        });

        document.getElementById('loginBtn').onclick = () => signInWithPopup(auth, provider);
        document.getElementById('logoutBtn').onclick = () => signOut(auth);
        
        document.getElementById('spinBtn').onclick = () => {
            const box = document.getElementById('challenge-box');
            const tag = document.getElementById('level-tag');
            
            // Hi·ªáu ·ª©ng xoay
            box.classList.add('spinning');
            box.innerText = "ƒêANG CH·ªåN...";
            
            setTimeout(() => {
                const random = challenges[Math.floor(Math.random() * challenges.length)];
                box.classList.remove('spinning');
                box.innerText = random.text;
                tag.innerText = random.lv;
                tag.style.background = "#00f2ff";
                tag.style.color = "#000";
            }, 800);
        };
    </script>
</body>
</html>
